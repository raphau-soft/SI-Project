<div class="custom">
    <form [formGroup]='positionForm' (ngSubmit)="onSubmit()">
        <div class="page-header">
            <h2>Add a new position</h2>
        </div>
        <div class="form-group">
            <div class="formField">
                <label>
                    <input type="text" class="form-control" placeholder="name" formControlName="name"
                        onfocus="this.placeholder=''" onblur="this.placeholder='name'" required>
                </label>

                <div *ngIf="positionForm.controls['name'].invalid && (positionForm.controls['name'].dirty || positionForm.controls['name'].touched)"
                    class="alert alert-danger">

                    <div *ngIf="positionForm.controls['name'].errors.required">
                        Position's name is required.
                    </div>
                    <div *ngIf="positionForm.controls['name'].errors.minlength">
                        Position's name length should be at least 4.
                    </div>
                </div>

            </div>
            <div class="formField">
                <label>
                    <input type="number" class="form-control" placeholder="minimal wage" formControlName="minWage"
                        onfocus="this.placeholder=''" onblur="this.placeholder='minimal wage'" required
                        (change)="onMinChange()">
                </label>
                <div *ngIf="positionForm.controls['minWage'].invalid && (positionForm.controls['minWage'].dirty || positionForm.controls['minWage'].touched)"
                    class="alert alert-danger">
                    <div *ngIf="positionForm.controls['minWage'].errors.required">
                        Minimal wage is required.
                    </div>
                    <div *ngIf="positionForm.controls['minWage'].errors.min">
                        Minimal wage should be at least 1600.
                    </div>
                </div>
            </div>
            <div class="formField">
                <label>
                    <input type="number" class="form-control" placeholder="maximal wage " formControlName="maxWage"
                        onfocus="this.placeholder=''" onblur="this.placeholder='maximal wage'">
                </label>
            </div>
        </div>
        <button type="submit" [disabled]="!positionForm.valid">Submit</button>
    </form>
</div>

<div class="custom" *ngIf="lastPosition != null">
    {{lastPosition}} added correctly!
</div>